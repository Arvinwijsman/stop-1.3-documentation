<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="DC.rights.owner" content="(C) Copyright 2022"><meta name="DC.type" content="topic"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="tijdsafhankelijke-contextinformatie"><link rel="stylesheet" type="text/css" href="css/commonltr.css"><link rel="stylesheet" type="text/css" href="css/stop.css"><title>Tijdsafhankelijke (context)informatie</title>
  <link rel="shortcut icon" href="https://koop.gitlab.io/STOP/standaard/1.3.0/img/stop.png">
  <link rel="alternate" type="application/rss+xml" title="RSS voor publicaties van de Standaard Officiële Publicaties" href="https://koop.gitlab.io/STOP/standaard/rss.xml">
  <script type="text/javascript" src="https://koop.gitlab.io/STOP/standaard/1.3.0/versieinfo.js"></script>
</head><body id="tijdsafhankelijke-contextinformatie"><header role="banner"><div>
  <table>
    <tr>
      <td colspan="2">Standaard Officiële Publicaties</td>
      <td class="versie"><span id="_VersieTekst"></span> <a href="https://koop.gitlab.io/STOP/standaard/rss.xml"><img class="rss_icon" src="https://koop.gitlab.io/STOP/standaard/img/rss.png"></a></td>
    </tr>
    <tr>
      <td class="subtitle" id="_VersieActualiteit"></td>
      <td colspan="2" class="search">
        Zoek naar
          <input type="text" id="search_tekst" size="31" value="trefwoord(en)" onfocus="this.value=''">
        met
        <form method="get" action="https://www.google.com/search" target="_blank" id="myBtn" onsubmit="search_google()">
          <input type="text" name="q" id="search_google_q" size="31" value="" style="display:none;">
          <input type="submit" value="Google">
        </form>
      </td>
    </tr>
  </table>
  
  <script type="text/javascript">
    function search_google () {
    document.getElementById('search_google_q').value = document.getElementById('search_tekst').value + ' site:https://koop.gitlab.io/STOP/standaard/'
    }
    // Execute a function when the user releases a key on the keyboard
    document.getElementById("search_tekst").addEventListener("keyup", function(event) {
    // Number 13 is the "Enter" key on the keyboard
    if (event.keyCode === 13) {
    //Cancel the default action, if needed
    //event.preventDefault();
    search_google ();
    document.forms["myBtn"].submit();
    }
    });
    document.getElementById('_VersieTekst').innerHTML = VersieInfo_VersieTekst()
    document.getElementById('_VersieActualiteit').innerHTML = VersieInfo_VersieActualiteit()
  </script>
  
</div></header><nav role="toc"><ul><li><a href="index.html">Introductie</a></li><li><a href="over_stop.html">Over de standaard</a></li><li><a href="stop_index.html">Standaard Officiële Publicaties</a><ul><li><a href="stop_wijzigingsoverzicht.html">Wijzigingsoverzicht</a></li><li><a href="leeswijzers.html">Leeswijzers</a><ul><li><a href="toepassing.html">Basis van STOP</a></li><li><a href="architectuur.html">Architectuur en ontwerpkeuzes</a></li><li><a href="gebruik.html">Software-ontwikkeling met STOP</a><ul><li><a href="quickstart_overzicht.html">Snelstartgids STOP-XML</a></li><li><a href="tekstmodellen.html">Modellering van tekst</a></li><li><a href="io-intro.html">Informatie-object</a></li><li><a href="gio-intro.html">Geografisch informatie-object</a></li><li><a href="IO_Document.html">Document als informatie-object</a></li><li><a href="naamgevingsconventie.html">Naamgevingsconventie</a></li><li class="active"><a href="context_modules.html">Tijdsafhankelijke (context)informatie</a></li><li><a href="annotaties.html">Annotaties</a></li></ul></li><li><a href="voortbouwen_op_STOP.html">Voortbouwen op STOP</a></li></ul></li><li><a href="EA_4D1D7FD517FE4d8dA9A2B905D202C92B.html">Informatiemodel</a></li><li><a href="businessrules.html">Bedrijfsregels</a></li></ul></li><li><a href="imop_index.html">Implementatiemodel Officiële Publicaties</a></li><li><a href="begrippenlijst.html">Begrippenlijst</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Tijdsafhankelijke (context)informatie</h1><div class="body"></div><article class="topic nested1" aria-labelledby="ariaid-title2" id="contextinformatie"><h2 class="title topictitle2" id="ariaid-title2">Contextinformatie</h2><div class="body"><p class="p">Het informatiemodel van STOP kent een <a class="xref" href="modulaire_structuur.html">modulaire structuur</a> waarin voor een (geconsolideerde) instrument (<a class="xref" href="begrippenlijst_besluit.html#besluit">besluit</a>, <a class="xref" href="begrippenlijst_regeling.html#regeling">regeling</a>, <a class="xref" href="begrippenlijst_informatieobject.html#informatieobject">informatieobject</a>) of een versie daarvan drie soorten modules zijn gedefinieerd:</p><dl class="dl"><dt class="dt dlterm">Modules met informatie die uitsluitend de inhoud beschrijft</dt><dd class="dd"><p class="p">Bijvoorbeeld de tekst of een geografisch informatieobject. Deze informatie is onveranderlijk in de tijd. Als deze informatie gewijzigd wordt (of moet worden), ontstaat er een nieuwe versie of een nieuw instrument.</p></dd><dt class="dt dlterm">Annotaties</dt><dd class="dd"><p class="p"><a class="xref" href="annotaties.html">Annotaties</a> zijn modules met interpretatie of duiding van de (juridische) inhoud van een instrument die voor software te begrijpen is.</p></dd><dt class="dt dlterm">Modules met contextinformatie</dt><dd class="dd"><p class="p">Dit is informatie die aspecten beschrijft die mede afhankelijk zijn van omgevingsfactoren en niet alleen van de eigenlijke inhoud. Deze informatie is tijdsafhankelijk: de contextinformatie kan wijzigen zonder dat de eigenlijke inhoud wijzigt. Bijvoorbeeld bevat een module voor een besluitversie het verloop van de besluitvormingsprocedure die wijzigt als gevolg van het bereiken van mijlpalen in die procedure. De geldigheid van een toestand wijzigt omdat er een nieuwe (opvolgende) toestand ontstaat. En een module met verwijzingen naar een regeling wijzigt omdat er vanuit een nieuwe regeling naar de regeling verwezen wordt. De modules van deze soort staan genoemd bij de <a class="xref" href="EA_1A45BBE5EC4F4bb2BBD7F5E701CE0479.html#Pkg__6E006EB7C4644e1993AD8CB36F94E660">contextinformatie</a> in het informatiemodel.</p></dd></dl><p class="p">De inhoud van het eerste type module wordt op een unieke manier geïdentificeerd met de identificatie van de <a class="xref" href="data_xsd_Element_data_FRBRExpression.html#FRBRExpression">expression</a> (voor een versie) of van een <a class="xref" href="data_xsd_Element_data_FRBRWork.html#FRBRWork">work</a> (voor een instrument).</p><p class="p">Voor een module met contextinformatie is dat niet voldoende: de "contextuele" tijdsaanduidingen bekendOp en ontvangenOp zijn nodig om aan te geven wanneer de inhoud van de module geldig is. Die tijdsaanduiding bestaat uit twee tijdstempels:</p><ul class="ul"><li class="li"><p class="p"><a class="xref" href="data_xsd_Element_data_bekendOp.html#bekendOp">bekendOp</a> is het moment waarop de informatie voor het eerst bekend werd. Voor publieke informatie is dat het moment waarop de informatie voor het eerst gepubliceerd werd. Voor informatie die voor een kleinere kring toegankelijk is (zoals de ondertekening van een besluit voordat het bekendgemaakt is) het moment waarop de informatie voor het eerst toegankelijk was.</p></li><li class="li"><p class="p"><a class="xref" href="data_xsd_Element_data_ontvangenOp.html#ontvangenOp">ontvangenOp</a> is het moment dat het systeem dat de STOP-module uitlevert voor het eerst over de informatie beschikte, mits dat een later tijstip was dan <code class="ph codeph">bekendop</code>. Als het systeem eerder over de informatie beschikte dan is <code class="ph codeph">ontvangenOp</code> gelijk aan <code class="ph codeph">bekendOp</code>.</p></li></ul><p class="p"><img class="image" src="img/context_modules_tijdstempels.png" alt="Voorbeeld van drie instanties van dezelfde module met contextinformatie"><br>
Het plaatje geeft een voorbeeld van een module met contextinformatie die op drie momenten is gewijzigd:</p><ul class="ul"><li class="li"><p class="p">Op 1-1-2020 is de eerste versie van de module bekend geworden die ook meteen beschikbaar was in het systeem.</p></li><li class="li"><p class="p">Op 1-6-2020 is een tweede versie ontstaan door het bekend worden van nieuwe informatie; ook hierover kon het systeem meteen beschikken.</p></li><li class="li"><p class="p">Op 1-10-2020 is informatie bekend geworden die aanleiding geven tot een derde versie van de module. Het systeem beschikt pas op 1-1-2021 over die informatie en maakt pas op dat moment de derde versie aan. In de tijd tussen 1-10-2020 en 1-1-2021 heeft het systeem dus ten onrechte de tweede versie voor de meest recente versie van de informatie in de module gehouden.</p></li></ul><p class="p">Overigens zijn de tijdstempels geen unieke identificatie voor een versie van de module; ze kunnen dus niet als versienummer gebruikt worden. Zie de <a class="xref" href="#implementatie">implementatie</a> sectie voor een toelichting.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title3" id="gebruik-voor-tijdreizen"><h2 class="title topictitle2" id="ariaid-title3">Gebruik voor tijdreizen</h2><div class="body"><p class="p">De tijdstempels sluiten aan bij de informatiebehoefte voor <a class="xref" href="tijdreizen.html">tijdreizen</a>:</p><ul class="ul"><li class="li"><p class="p">Als een tijdreis zoekt naar de informatie die bekend was op een bepaald moment <code class="ph codeph">X</code> (de waarde van de <code class="ph codeph">bekendOp</code> tijdreisparameter), dan zijn voor de zoekresultaten alle versies van de module van belang die een <code class="ph codeph">bekendOp</code> tijdstempel hebben kleiner dan of gelijk aan <code class="ph codeph">X</code>.</p></li><li class="li"><p class="p">Als een tijdreis zoekt naar de informatie die het systeem bevatte op een bepaald moment <code class="ph codeph">X</code> (de waarde van de <code class="ph codeph">beschikbaarOp</code> tijdreisparameter), dan zijn voor de zoekresultaten alle versies van de module van belang die een <code class="ph codeph">ontvangenOp</code> (en daarmee ook de <code class="ph codeph">bekendOp</code>) tijdstempel hebben kleiner dan of gelijk aan <code class="ph codeph">X</code>. Als een systeem de <code class="ph codeph">ontvangenOp</code> tijdstempel niet implementeert. dan zijn voor de zoekresultaten alle versies van de module van belang die een <code class="ph codeph">bekendOp</code> tijdstempel hebben kleiner dan of gelijk aan <code class="ph codeph">X</code>.</p></li><li class="li"><p class="p">Als een tijdreis meerdere relevante versies van een module oplevert, dan is het resultaat van de zoektocht de module met de meest recente <code class="ph codeph">bekendOp</code>. Als dat er meer zijn, dan wordt daaruit de versie gekozen met de meest recente <code class="ph codeph">ontvangenOp</code>.</p></li></ul><p class="p">De meest recente versie kan verkregen worden door een tijdreis met als tijdreisparameters <code class="ph codeph">beschikbaarOp</code> = <code class="ph codeph">bekendOp</code> = nu uit te voeren.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title4" id="implementatie"><h2 class="title topictitle2" id="ariaid-title4">Implementatie van de tijdstempels in een systeem </h2><div class="body"><p class="p">Bij de implementatie van een systeem dat STOP gebruikt voor de uitlevering van modules met contextinformatie spelen de vragen:</p><ol class="ol"><li class="li"><p class="p">Moeten alle versies in de tijd van een module bewaard worden?</p></li><li class="li"><p class="p">Zijn zowel <code class="ph codeph">bekendOp</code> als <code class="ph codeph">ontvangenOp</code> noodzakelijk, of is alleen <code class="ph codeph">bekendOp</code> genoeg?</p></li><li class="li"><p class="p">Wat is de granulariteit van een tijdstempel? Alleen een datum of ook de tijd meenemen?</p></li></ol><p class="p">Bij de beantwoording van de vragen wordt aangenomen dat het systeem geen cache is van de gegevens uit een ander bronsysteem; in dat geval moet het cache-systeem het gedrag van het bronsysteem overnemen.</p><p class="p">Het antwoord op de eerste vraag wordt bepaald door de functionele eisen aan het systeem: moet het in staat zijn te kunnen <a class="xref" href="tijdreizen.html">tijdreizen</a>? Als een eindgebruiker (of een ander systeem) een tijdreis kan maken en bijvoorbeeld kan vragen wat het systeem een jaar geleden aan informatie verstrekt zou hebben had, dan moeten wel meerdere versies bewaard worden. Als het voldoende is dat het systeem alleen over de meest recente versie van de module beschikt, dan is het antwoord nee. Het antwoord blijft nee als het systeem de STOP-informatie verstrekt aan een ander systeem dat wel kan tijdreizen, zoals toegelicht in de beschrijving van de <a class="xref" href="#uitwisseling">uitwisseling van een module</a>.</p><p class="p">Overigens is STOP een uitwisselingsstandaard en geen datamodel voor een systeem. Als het antwoord op vraag 1 ja is, dan moet het systeem over alle informatie beschikken om de verschillende versies van de module te kunnen reproduceren. Intern kan de informatie op een andere manier georganiseerd zijn. Daarbij moet er rekening mee gehouden worden dat de waarde van een tijdstempel niet zonder meer een optelsom hoeft te zijn van de tijdstempels geassocieerd met de verschillende brokjes informatie in een versie van de module; het systeem kan op een bepaald moment informatie krijgen die ertoe leidt dat een brokje informatie uit de module verwijderd wordt. Dat leidt tot een versie van de module met een latere <code class="ph codeph">bekendOp</code>/<code class="ph codeph">ontvangenOp</code> dan de tijdstempels voor de overgebleven brokjes informatie. Bijvoorbeeld: stel dat de implementatie van de module <a class="xref" href="data_xsd_Element_data_Procedureverloop.html#Procedureverloop">procedureverloop</a> in het systeem bestaat eruit dat aan elke <a class="xref" href="data_xsd_Element_data_Procedurestap.html#Procedurestap">procedurestap</a> een <code class="ph codeph">bekendOp</code>/<code class="ph codeph">ontvangenOp</code> is gekoppeld. Als een versie van de module een fout bevat en daardoor onterecht een extra <code class="ph codeph">procedurestap</code> heeft, dan ontstaat na het aanleveren van een correctie daarvan een <code class="ph codeph">procedureverloop</code> module met als <code class="ph codeph">ontvangenOp</code> het moment dat de stap verwijderd is. De <code class="ph codeph">ontvangenOp</code> tijdstempel van de <code class="ph codeph">procedureverloop</code> is dan niet gelijk aan de meest recente waarde van de <code class="ph codeph">ontvangenOp</code> die aan de overgebleven <code class="ph codeph">procedurestap</code> elementen is gekoppeld.</p><p class="p">Het bijhouden van <code class="ph codeph">ontvangenOp</code> is alleen noodzakelijk als het systeem de functionele eis kent om tijdreizen te ondersteunen waarbij te achterhalen is of het systeem op een bepaald moment onterecht de verkeerde informatie heeft getoond. De waarde van <code class="ph codeph">ontvangenOp</code> wordt in dat geval bepaald door het moment dat het systeem de informatie heeft ontvangen die leidt tot een nieuwe versie van de module. Als dergelijke tijdreizen niet vereist zijn kan <code class="ph codeph">ontvangenOp</code> weggelaten worden.</p><p class="p">Bij veruit de meeste juridische vragen speelt de tijd geen rol. Een tijdreis waarbij gevraagd wordt wat in een publicatieblad gepubliceerd was op een bepaalde dag, dus gebaseerd op alle informatie die tot en met die dag is gepubliceerd, veronderstelt impliciet dat daarbij een tijdstip gebruikt wordt na het verschijnen van de publicatiebladen van die dag. Slechts bij uitzondering wordt regelgeving gepubliceerd die op een ander tijdstip gepubliceerd wordt en waarbij het tijdstip van belang is; een voorbeeld daarvan zijn vervoersverboden. Bij juridische vragen waar dat tijdstip een rol speelt zal altijd gekeken worden naar de inhoud en publicatietijd van de originele publicaties; dat zijn geen vragen waarvoor het tijdreismechanisme in STOP bedoeld is. Het is daarom voldoende om voor zowel <code class="ph codeph">bekendOp</code> als <code class="ph codeph">ontvangenOp</code> een datum te gebruiken, tenzij er om redenen anders dan ondersteunen van STOP strictere eisen gelden.</p><p class="p">Omdat op een dag meerdere gebeurtenissen kunnen zijn die tot wijziging van de inhoud van een module kunnen leiden, zijn bij een granulariteit van een dag de tijdstempels onvoldoende om als unieke identificatie van de inhoud van een module (dus als een soort versienummer) te dienen.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title5" id="uitwisseling"><h2 class="title topictitle2" id="ariaid-title5">Uitwisselen van een module met contextinformatie </h2><div class="body"><p class="p">Welke eisen aan de tijdstempels gesteld worden bij de uitwisseling van een module met contextinformatie zal afhangen van de functionele eisen van het ontvangende systeem, en worden vastgelegd in de specificatie van de API die is ingericht voor de uitwisseling van de STOP-module. Er zijn in de praktijk twee mogelijkheden.</p><p class="p">Als het ontvangende systeem als een cache voor het uitleverende systeem functioneert (of geïnteresseerd is in de informatie exact zoals het uitleverende systeem die kent) dan zijn de eisen aan de tijdstempels voor de API gelijk aan die voor de <a class="xref" href="#implementatie">implementatie</a> van het uitleverende systeem. De API zal het karakter van een een synchronisatiemechanisme hebben.</p><p class="p">In alle andere gevallen hoeft het uitleverende systeem alleen de <code class="ph codeph">bekendOp</code> datum op te nemen bij de module die uitgewisseld wordt; het ontvangende systeem zal immers zelf de waarde van <code class="ph codeph">ontvangenOp</code> bepalen. De waarde van <code class="ph codeph">bekendOp</code> is dezelfde waarde als die de implementatie van het uitleverende systeem hanteert; het is dus niet de dag waarop de informatie daadwerkelijk uitgewisseld wordt. Dat is niet nodig omdat <code class="ph codeph">bekendOp</code> staat voor het begin van een periode; als de meest recente versie van de module een <code class="ph codeph">bekendOp</code> datum in het verleden heeft houdt dat in dat er sindsdien geen informatie meer bekend is geworden die tot herziening van de module heeft geleid. Of en wanneer een module uitgewisseld wordt zal afhangen van de functionaliteit van de betrokken systemen en de soort informatie die de module bevat; daar is geen algemene richtlijn voor te geven. Dat geldt ook voor de interpretatie van de waarde van <code class="ph codeph">bekendOp</code> door het ontvangende systeem en de manier waarop de informatie uit de module met de al in het systeem aanwezige informatie gecombineerd wordt.</p></div></article></article></main></body></html>